<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EPOS2MotorController: Setup a new Ubuntu with ros::groovy and the EPOS2MotorController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EPOS2MotorController
   </div>
   <div id="projectbrief">EPOS2 on Volksbot with ROS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Setup a new Ubuntu with ros::groovy and the EPOS2MotorController </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#setup_step1">Step1: Install Xubuntu</a></li>
<li class="level1"><a href="#setup_step2">Step 2: Setup ROS::groovy</a></li>
<li class="level1"><a href="#setup_step3">Step 3: Copy the Source-Code to the Catkin-directory</a></li>
<li class="level1"><a href="#setup_step4">Step 4: Include the EPOS- and FTDI-Library into your OS</a></li>
<li class="level1"><a href="#setup_step5">Step 5: Compile the epos2_control-Package</a></li>
<li class="level1"><a href="#setup_step6">Step 6: Using the EPOS2MotorController</a></li>
</ul>
</div>
<div class="textblock"><p>In the following tutorial you will get an step-wise introduction how to setup a x86-PC for driving a Volksbot with EPOS2-Motor-driver</p>
<h1><a class="anchor" id="setup_step1"></a>
Step1: Install Xubuntu</h1>
<p>At first you should install an Xubuntu-OS (also a Lubuntu is possible - Kubuntu and Ubuntu should work also, but they need to much power for there Desktop-Interfaces). Please use the version 12.10 for 32bit-PCs (i386). You can get it for free on <a href="http://ftp.tu-chemnitz.de/pub/linux/ubuntu-cdimage/xubuntu/releases/12.10/release/">http://ftp.tu-chemnitz.de/pub/linux/ubuntu-cdimage/xubuntu/releases/12.10/release/</a>.</p>
<h1><a class="anchor" id="setup_step2"></a>
Step 2: Setup ROS::groovy</h1>
<p>You can find detailed Information on this page: <a href="http://ros.org/wiki/groovy/Installation/Ubuntu">http://ros.org/wiki/groovy/Installation/Ubuntu</a>. The commands you had to type are listed here (one per line).</p>
<pre class="fragment">sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu quantal main" &gt; /etc/apt/sources.list.d/ros-latest.list'

wget http://packages.ros.org/ros.key -O - | sudo apt-key add -

sudo apt-get update

sudo apt-get install ros-groovy-desktop-full

sudo apt-get install ros-groovy-joystick-drivers

sudo rosdep init

rosdep update

echo "source /opt/ros/groovy/setup.bash" &gt;&gt; ~/.bashrc
</pre><h1><a class="anchor" id="setup_step3"></a>
Step 3: Copy the Source-Code to the Catkin-directory</h1>
<p>At First you should create a directory which includes later your catkin-workspace. In this folder also a "src" folder should be created.</p>
<pre class="fragment">mkdir ~/catkin_ws

mkdir ~/catkin_ws/src
</pre><p>Unpack/Copy the source-folder (epos2_control) into the directory "~/catkin_ws/src".</p>
<p>Add the setup.bash from the development-path of your catkin-workspace to the .bashrc.</p>
<pre class="fragment">echo "source ~/catkin_ws/devel/setup.bash" &gt;&gt; ~/.bashrc
</pre><h1><a class="anchor" id="setup_step4"></a>
Step 4: Include the EPOS- and FTDI-Library into your OS</h1>
<p>The EPOS- and FTDI-Library you need are included in the source-package. The commands for copying them in the right directory and some additional necessary commands are listed below (one per line). More Information you can find in the Document "EPOS Library Integration into Ubuntu Eclipse Dokumentation.pdf", which is in the libraries-Folder of the Project-Directory (mostly it's "~/catkin_ws/src/epos2_control/libraries").</p>
<p>Include the FTDI-Library: </p>
<pre class="fragment">sudo cp ~/catkin_ws/src/epos2_control/libraries/libftd2xx.so.1.1.12 /usr/local/lib/

sudo ln -s /usr/local/lib/libftd2xx.so.1.1.12 /usr/local/lib/libftd2xx.so.1

sudo ln -s /usr/local/lib/libftd2xx.so.1 /usr/local/lib/libftd2xx.so

sudo ln -s /usr/local/lib/libftd2xx.so.1 /usr/lib/libftd2xx.so

sudo cp ~/catkin_ws/src/epos2_control/libraries/99-ftdi.rules /etc/udev/rules.d/

sudo gpasswd -a user dialout
</pre><dl class="section warning"><dt>Warning</dt><dd>Please substitute "user" in the last command (gpasswd) by your own username.</dd></dl>
<p>Include the EPOS-Command-Library: </p>
<pre class="fragment">sudo mkdir /opt/lib

sudo cp ~/catkin_ws/src/epos2_control/libraries/libEposCmd.so.4.9.1.0 /opt/lib/

sudo ln -s /opt/lib/libEposCmd.so.4.9.1.0 /opt/lib/libEposCmd.so.4

sudo ln -s /opt/lib/libEposCmd.so.4 /opt/lib/libEposCmd.so
</pre><p>You had to reload your ".bashrc" before you are able to continue with <a class="el" href="setup.html#setup_step5">Step 5: Compile the epos2_control-Package</a>. Please type </p>
<pre class="fragment">source ~/.bashrc </pre><p> Alternatively you can just reboot your system, but this will be done in every case before starting with <a class="el" href="setup.html#setup_step6">Step 6: Using the EPOS2MotorController</a>.</p>
<h1><a class="anchor" id="setup_step5"></a>
Step 5: Compile the epos2_control-Package</h1>
<p>Now it should be possible to compile the package on your system. Please change into your catkin-directory and run make.</p>
<pre class="fragment">cd ~/catkin_ws/

catkin_make
</pre><p>If the "epos2_control"-package was compiled successfully, it's necessary to reboot your system before you can go on with <a class="el" href="setup.html#setup_step6">Step 6: Using the EPOS2MotorController</a>.</p>
<h1><a class="anchor" id="setup_step6"></a>
Step 6: Using the EPOS2MotorController</h1>
<p>For starting you need at least two Shells. One you need for the remote and the other is for the driver itself. You also should power on the robot (if necessary lock at <a class="el" href="start.html#start_step1">Step1: Power on the Robot</a>).</p>
<p>Starting the driver: When you are starting the driver some parameter will be need from the parameter-server of ROS. These parameter are saved in a ROS-launch-file. There are two examples in the "launch"-folder of the project-directory. One was made for a 4-wheel-robot and the other for a 6-wheel-robot. For starting the driver with the parameters of the 4-wheel-robot type: </p>
<pre class="fragment">roslaunch epos2_control epos2_init_r4.launch
</pre><p>Starting the remote: The remote also depend on some values from the parameter-server. But all needed values should be loaded by starting the driver. This means you need only one launch-file for starting the remote-node: </p>
<pre class="fragment">roslaunch epos2_control epos2_start_remote.launch
</pre><p>You can send now velocity-messages to the driving node. If you want to use the keyboard, the shell with the remote-node should have the focus. Then you can use the keys W, S, A and D for driving. The other possibility is the usage of a gamepad or steering-wheel. You can find a list of available driving modes at <a class="el" href="start.html#start_step3">Step3: Drive the robot</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The detection of the connect device will be done by the count of axes. So its possible that not all gamepads and steering-wheels will work.</dd></dl>
<p>If you want to power off your robot lock at <a class="el" href="start.html#power_off">Last Step: Power off the robot</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 16 2013 18:18:40 for EPOS2MotorController by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
